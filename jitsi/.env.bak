# Configuración de Jitsi Meet
# Copiar este archivo a .env y ajustar según sea necesario
# Ejecutar 'bash gen-passwords.sh' para generar contraseñas seguras automáticamente

# =============================================================================
# DOMINIOS XMPP INTERNOS
# =============================================================================
# Dominios XMPP internos para comunicación entre servicios
XMPP_DOMAIN=meet.jitsi
XMPP_AUTH_DOMAIN=auth.meet.jitsi
XMPP_MUC_DOMAIN=muc.meet.jitsi
XMPP_INTERNAL_MUC_DOMAIN=internal-muc.meet.jitsi
XMPP_SERVER=xmpp.meet.jitsi

# =============================================================================
# CREDENCIALES JICOFO (Conference Focus)
# =============================================================================
# Secreto del componente Focus (generado por gen-passwords.sh)
JICOFO_COMPONENT_SECRET=
# Usuario interno de Jicofo (no cambiar)
JICOFO_AUTH_USER=focus
# Contraseña del usuario focus (generada por gen-passwords.sh)
JICOFO_AUTH_PASSWORD=

# =============================================================================
# CREDENCIALES JVB (Jitsi Videobridge)
# =============================================================================
# Usuario interno del Videobridge (no cambiar)
JVB_AUTH_USER=jvb
# Contraseña del usuario jvb (generada por gen-passwords.sh)
JVB_AUTH_PASSWORD=
# Nombre de la sala MUC para coordinación de bridges
JVB_BREWERY_MUC=jvbbrewery

# =============================================================================
# CONFIGURACIÓN PÚBLICA
# =============================================================================
# Dominio principal de Jitsi (visible para usuarios)
JITSI_DOMAIN=localhost
# URL pública de acceso (CRÍTICO: debe tener formato correcto)
# CORRECTO: http://localhost:8080
# INCORRECTO: http//localhost:8080 (falta ':')
PUBLIC_URL=http://localhost:8080
# Puerto del puente de video (JVB)
JVB_PORT=10000
# Habilitar autenticación (false para desarrollo)
ENABLE_AUTH=false

# =============================================================================
# CONFIGURACIÓN DE WEBSOCKET
# =============================================================================
# URL base para WebSocket (se construye automáticamente si no se especifica)
# Formato: ws://dominio:puerto/xmpp-websocket
WEBSOCKET_URL=ws://localhost:8080/xmpp-websocket
# URL base para BOSH (se construye automáticamente si no se especifica)
XMPP_BOSH_URL_BASE=http://localhost:8080/http-bind

# =============================================================================
# VARIABLES ADICIONALES (OPCIONALES)
# =============================================================================
# Para configuraciones avanzadas, consultar esential.md
# ENABLE_GUESTS=1
# ENABLE_WELCOME_PAGE=1
# AUTH_TYPE=internal
# JWT_APP_ID=
# JWT_APP_SECRET=

# =============================================================================
# RUTAS DE CONFIGURACIÓN MONTADAS
# =============================================================================
# Rutas donde se montan las configuraciones personalizadas
# PROSODY_CONFIG_PATH=./config/prosody/prosody-jitsi.cfg.lua
# JICOFO_CONFIG_PATH=./config/jicofo/jicofo.conf
# JVB_CONFIG_PATH=./config/jvb/jvb.conf
# MEET_CONFIG_PATH=./config/jitsi/meet-config.js

# =============================================================================
# EJEMPLOS DE CONFIGURACIÓN CORRECTA VS INCORRECTA
# =============================================================================
# CORRECTO:
# PUBLIC_URL=http://localhost:8080
# WEBSOCKET_URL=ws://localhost:8080/xmpp-websocket
# 
# INCORRECTO (causa errores en tests):
# PUBLIC_URL=http//localhost:8080  (falta ':')
# WEBSOCKET_URL=wss://localhost:8080/xmpp-websocket  (wss en lugar de ws para HTTP)
